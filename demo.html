<!DOCTYPE html>
<html class="no-js">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/css/select2.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div class="container mrg-t20px mrg-b20px">
        <div id="form"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
    <script src="index.js"></script>
    <script>
        var dtData = [];
        for (var i = 1; i <= 5000; i++) {
            dtData.push([i, 'Name ' + i, 'Action ' + i, 7, 9, 0])
        }

        $('#form').formGenerator({
            // These are the defaults.
            saveFunctionName: 'saveData()',
            rows: [{
                el: 'h4',
                text: 'Form Example....!'
            }, {
                controls: [{
                    label: "Input 1",
                    control: "input",
                    type: "text",
                    name: "input1",
                    class: "",
                    validation: {
                        rules: {
                            required: true,
                            number: true,
                            minlength: 5,
                            maxlength: 10
                        },
                        messages: {
                            required: "Required input",
                            number: "Only decimal number allowed",
                            minlength: "Please, enter at least 5 number",
                            maxlength: "Can not be exceed more than 10 numbers",
                        }
                    }
                }, {
                    label: "Input 2",
                    control: "datepicker",
                    type: "text",
                    name: "input2",
                    class: "",
                    validation: {
                        rules: {
                            required: true,
                            minlength: 10,
                            maxlength: 10,
                        },
                        messages: {
                            required: "Required input",
                            minlength: "Please, enter correct date",
                            maxlength: "Can not be exceed more than 10 characters"
                        }
                    }
                }, {
                    label: "Date picker",
                    control: "datepicker",
                    class: "",
                    value: "",
                    name: "datepicker1",
                }],
            }, {
                controls: [{
                    label: "textarea 1",
                    control: "textarea",
                    class: "",
                    name: "textarea1",
                    rows: 1
                }, {
                    label: "Select 1",
                    control: "select",
                    class: "",
                    name: "select1",
                    data: [{
                        id: 1,
                        text: "Option 1"
                    }, {
                        id: 2,
                        text: "Option 2"
                    }]
                }, {
                    label: "Select2",
                    control: "select2",
                    class: "",
                    name: "select2",
                    data: [{
                        id: 1,
                        text: "Option 1"
                    }, {
                        id: 2,
                        text: "Option 2"
                    }]
                }]
            }, {
                el: 'hr'
            }, {
                el: 'h4',
                text: 'Datatable Example....!'
            }, {
                tables: [{
                    type: 'datatable',
                    class: 'wd-100p table-bordered',
                    id: '',
                    colsArr: ['Name'],
                    dataArr: dtData,
                    // rowAction: {
                    //     colIndex: 2,
                    //     buttons: [{
                    //         name: '<i class="fa fa-edit"></i>',
                    //         class: 'btn-warning',
                    //         onclickFunctionName: 'editRow(this)'
                    //     }, {
                    //         name: '<i class="fa fa-trash"></i>',
                    //         class: 'btn-danger',
                    //         onclickFunctionName: 'deleteRow(this)'
                    //     }]
                    // }
                }]
            }, {
                el: 'hr'
            }, {
                el: 'h4',
                text: 'Editable Table Example....!'
            }, {
                tables: [{
                    type: 'editable',
                    class: 'wd-100p table-bordered mrg-t20px',
                    id: '',
                    addRow: true,
                    colsArr: ['Input', 'Select', 'Datepicker', 'Select2'],
                    rowControlArray: [{
                        control: "input",
                        type: "text",
                        name: "tdInput1",
                        class: "",
                    }, {
                        control: "select",
                        name: "tdSelect1",
                        class: "",
                        data: [{
                            id: 1,
                            text: "Active"
                        }, {
                            id: 2,
                            text: "Inactive"
                        }]
                    }, {
                        control: "datepicker",
                        name: "tdDatepicker1",
                        class: ""
                    }, {
                        control: "select2",
                        name: "tdSelect21",
                        class: "",
                        data: [{
                            id: 1,
                            text: "Active"
                        }, {
                            id: 2,
                            text: "Inactive"
                        }]
                    }],
                    dataArr: [
                        ['Name 1', 1, '16-01-2020', 1],
                        ['Name 2', 2, '16-01-2020', 2],
                        ['Name 3', 1, '16-01-2020', 1],
                        ['Name 4', 2, '16-01-2020', 2]
                    ],
                    rowAction: {
                        colIndex: 5,
                        buttons: [{
                            name: '<i class="fa fa-trash"></i>',
                            class: 'btn-danger',
                            onclickFunctionName: 'deleteRow(this)'
                        }]
                    }
                }]
            }]
        });

        function editRow(editBtn) {
            console.log('editRow', $(editBtn).closest('td').find('.row-obj').text())
        }

        function deleteRow(deleteBtn) {
            var tbl = $(deleteBtn).closest('table');
            $(deleteBtn).closest('tr').remove();
            $(tbl).find('tbody tr').each(function(i, tr) {
                $(tr).find('td:eq(0)').text(i + 1);
            });
        }
    </script>
</body>

</html>